version: 2

sources:
  - name: salesforce #This should always be salesforce
    schema: "{{ var('salesforce_schema', 'salesforce') }}" #Modify this to be where your Salesforce data resides
    database: #Add the database where your Salesforce data resides. Eg. 'my_salesforce_database'. By default the target.database is used.
    
    #This source yml contains the following Salesforce tables: fivetran_formula, opportunity, account, user, user_role.
    #If you would like to include additional source tables you can copy add them in a similar fashion, then paste within your
    #root dbt project. Similarly, if you do not have these tables you can remove them.

    tables:
      - name: fivetran_formula_model
        description: A table containing a Salesforce object and the full model statement to generate the formula model.
        columns:
          - name: object
            description: The Salesforce object (warehouse table).
          - name: model
            description: The full model (select statement) which contains all formulas related to the Salesforce object.
      
      - name: fivetran_formula
        description: A table containing a mapping of sfdc formulas with a reference to corresponding table objects for the formulas to be applied.
        columns:
          - name: field
            description: Name of the formula
          - name: object
            description: Reference to the table the formula is to be applied
          - name: formula
            description: Salesforce defined formula
          - name: sql
            description: Standard sql interpretation of the Salesforce defined formula, generated by Fivetran
          - name: _fivetran_synced
            description: Timestamp of when the record was synced by Fivetran

      - name: opportunity
        description: Represents an opportunity, which is a sale or pending deal.


